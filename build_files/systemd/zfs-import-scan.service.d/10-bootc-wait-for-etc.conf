# Wait for /etc overlay to be fully mounted before scanning for pools
#
# In bootc/ostree systems, /etc is an overlay filesystem that isn't fully
# available during early boot. Without this, zfs-import-scan runs before
# /etc/hostname and /etc/hostid are accessible, causing pool import to fail
# with "pool was previously in use from another system" errors.
#
# This matches the ordering used by zfs-import-cache.service which already
# has After=systemd-remount-fs.service.
[Unit]
After=systemd-remount-fs.service
